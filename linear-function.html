<!DOCTYPE html>
<html>
<head>

  <title>Linear Function | Derivative Simulator</title>

  <!-- Loading required scripts/resources -->
  <script src="http://cdnjs.cloudflare.com/ajax/libs/mathjs/3.16.0/math.min.js"></script> <!-- math.js; computing functions -->
  <script src="http://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script> <!-- D3.js; the library which upon the base function plotter is built -->
  <script src="https://wzrd.in/standalone/function-plot@1.14.0"></script> <!-- mauriciopoppe's Function Plot; main grapher -->
  
  <!-- Styling the input field -->
  <link rel="stylesheet" type="text/css" href="styling.css">

</head>
<body>
<a href="index.html"><img id="back" src="images/button.png"></a>
<input id="vertical-shift-slider" type="range" value="1" min="-10" max="10"/>
<input id="gradient-slider" type="range" value="1" min="-10" max="10"/>
<button id="update" onclick="getValuesFromSliders()">Update</button>

<div id="plot"></div>
<script>
  var vertical_shift = 0;
  var gradient = 1;
  var equation = "1*x^8";
  var derivative_equation;

  function differentiate(expression) {
    if (expression.slice(3, 4) === '^1') {
      derivative_equation = Number(expression[0]);
    }
  }

  function pushUpdates() {
    vertical_shift = document.getElementById("vertical-shift-slider").value;
    gradient = document.getElementById("gradient-slider").value;
    if (Number(vertical_shift) > 0) {
      equation = String(vertical_shift) + "*x^1 +" + String(vertical_shift);
    } else {
        equation = String(vertical_shift) + "*x^1 " + String(vertical_shift);  
    }
    console.log(equation[4])
    drawGraphs(equation, derivative_equation);
  }

  function drawGraphs(fx, ddx) {
    functionPlot({width: 400, height: 400, target: '#plot', data: [{fn: String(fx)}, {fn: String(fx)}]})
  } 


  pushUpdates();
</script>
</body>
</html>
